
<header>
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
<link href='https://fonts.googleapis.com/css?family=Droid+Serif:400,700' rel='stylesheet' type='text/css'>
</header>
<div class="main">

<h1>DNS Details </h1>
<hr>
<p id="notice"><%= notice %></p>
<button onclick="topFunction()" id="myBtn" title="Go to top"><span class="glyphicon glyphicon-eject"></span></button>
<p>
  <strong>Domain Name:</strong>
  <%= @question.dnsname %>
</p>

<p>
  <strong>Record Type:</strong>
  <%= @question.recordtype %>
</p>

<p>
  <strong>Server:</strong>
  <%= @question.server %>
</p>

<% if @question.timeperiod==1 %>
<p>
  <strong>Response Time Interval:</strong>
  <%= @question.timeperiod %>&nbsp;Minute
</p>
<%end%>
<% if @question.timeperiod==5 || @question.timeperiod==10 || @question.timeperiod==30 %> 
<p>
  <strong>Response Time Interval:</strong>
  <%= @question.timeperiod %>&nbsp;Minutes
</p>
<%end%>
<% if @question.timeperiod==60 %>
<p>
  <strong>Response Time Interval:</strong>
  1 Hour
</p>
<%end%>
<% if @question.timeperiod==1440 %>
<p>
  <strong>Response Time Interval:</strong>
  1 Day
</p>
<%end%>
<hr>

<button style=" margin-left: 10px;" class="button search"  onclick="myFunction()">Type Of Record</button><br/><br/>
<div class="information" id="recordtype">
 <table >
         <tr>
           <td>-A</td>
           <td>(IPv4 address)</td>
         </tr>
         <tr>
           <td>-AAAA</td>
           <td>(IPv6 address)</td>
         <tr>
           <td>-TXT</td>
           <td>(text annotations)</td>
         </tr>

         <tr>
           <td>-MX</td>
           <td>(mail exchanges)</td>
         </tr>

          <tr>
           <td>-NS</td>
           <td>(nameservers)</td>
         </tr>
         <tr>
          <td>-CNAME</td>
          <td>(Canonical Name)</td>
         </tr>
         <tr>
          <td>-SOA</td>
          <td>(Service-oriented architecture)</td>
         </tr>
         <tr>
          <td>-PTR</td>
          <td>(Public Test Realm)</td>
         </tr>
         <tr>
          <td>-SRV</td>
          <td>(Service record)</td>
         </tr>
         
 </table><br>
</div>

<div class="wrapper2">
<table align="center" style="text-align: center; margin-top: -10px; overflow: hidden;
  border-radius: 5px;" class="table">
  <thead>
    <tr>
      <th style="text-align: center">&nbsp;Query&nbsp;</th>
      <th style="text-align: center">Answer&nbsp;</th>
      <th style="text-align: center">Authority&nbsp;</th>
      <th style="text-align: center">Additional&nbsp;</th>
      <th style="text-align: center">udp&nbsp;</th>
      <th style="text-align: center">version&nbsp;</th>
   
    </tr>
  </thead>

  <tbody>
      <tr>
        <td >&nbsp;<%= @questions.query %></td>
        <td >&nbsp;<%= @questions.answer %></td>
        <td >&nbsp;<%= @questions.authority %></td>
        <td >&nbsp;<%= @questions.additional %></td>
        <td >&nbsp;<%= @questions.udp %></td>
        <td >&nbsp;<%= @questions.version %></td>
   
        </tr>
  </tbody>
</table>
</div>
<hr style="margin-top:-40px;">

<div class="wrapper">
<h3 style="text-align: center; margin-top: 10px;"><u><b>ANSWER</b> </u></h3>

<table align="center" style="text-align: center;" class="table1">
  <thead>
    <tr>
      <th style="text-align: center">&nbsp;DNS&nbsp;</th>
      <th style="text-align: center">Time To Live&nbsp;</th>
      <th style="text-align: center">Record Type&nbsp;</th>
      <th style="text-align: center">Ip Address&nbsp;</th>
  
  
    </tr>
  </thead>

  <tbody>
    <% @answers.each do |answer| %>
      <tr>
        <% if answer.question_id==@questions.id && answer.typeAnswer=="answer"%>
        <td >&nbsp;<%= answer.dnsname %></td>
        <td style="text-align: center">&nbsp;<%= answer.ttl %></td>
        <td>&nbsp;<%= answer.recordtype %></td>
        <td>&nbsp;<%= answer.ipaddress %></td>
 
        <%end%>
        
        </tr>
    <% end %>
  </tbody>
</table>
</div>


<h3 style="text-align: center; margin-top: 50px;"><u><b>AUTHORITY</b> </u></h3>
<div class="wrapper">
<table align="center" style="text-align: center; margin-top: -40px;" class="table2">
  <thead>
    <tr>
      <th style="text-align: center">&nbsp;DNS&nbsp;</th>
      <th style="text-align: center">Time To Live&nbsp;</th>
      <th style="text-align: center">Record Type&nbsp;</th>
      <th style="text-align: center">Ip Address&nbsp;</th>
    
   
    </tr>
  </thead>

  <tbody>
    <% @answers.each do |answer| %>
    <% if answer.question_id==@questions.id && answer.typeAnswer=="authority"%>
      <tr>
        <td >&nbsp;<%= answer.dnsname %></td>
        <td style="text-align: center">&nbsp;<%= answer.ttl %></td>
        <td>&nbsp;<%= answer.recordtype %></td>
        <td>&nbsp;<%= answer.ipaddress %></td>
     
        <%end%>
        
        </tr>
    <% end %>
  </tbody>
</table>
</div>

<h3 style="text-align: center; margin-top: 50px;"><u><b>ADDITIONAL</b></u> </h3>
<div class="wrapper">
<table align="center" style="text-align: center;margin-top: -40px; " class="table3">
  <thead>
    <tr>
      <th style="text-align: center">&nbsp;DNS&nbsp;</th>
      <th style="text-align: center">Time To Live&nbsp;</th>
      <th style="text-align: center">Record Type&nbsp;</th>
      <th style="text-align: center">Ip Address&nbsp;</th>

    
    </tr>
  </thead>

  <tbody>
    <% @answers.each do |answer| %>
      <% if answer.question_id==@questions.id && answer.typeAnswer=="additional"%>
       <tr>
        <td >&nbsp;<%= answer.dnsname %></td>
        <td style="text-align: center">&nbsp;<%= answer.ttl %></td>
        <td>&nbsp;<%= answer.recordtype %></td>
        <td>&nbsp;<%= answer.ipaddress %></td>

     </tr>
      <%end%>
    <% end %>
  </tbody>
</table>
</div>
&nbsp;
<%= link_to questions_path ,class: "btn btn-default" do%>
 <span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span>Back
 <%end%>
 &nbsp;
</div>
<hr>
<style>
.information{
  display:none;
}
body{
  background-color: #F5F5F5;
}
 .main{
  margin-top: 70px;
 }
.table3 {
  margin-top: 10px;
  margin-bottom: 40px;
}
hr {
  border:none;
  
  height: 50px;
  margin-top: 20px;
  border-bottom: 1px solid #C0C0C0;
  box-shadow: 0 15px 15px -15px #C0C0C0;
  margin: -50px auto 10px; 
}

#myBtn {
  display: none;
  position: fixed;
  bottom: 20px;
  right: 30px;
  z-index: 99;
  border: none;
  outline: none;
  background-color: lightblue;
  color: white;
  cursor: pointer;
  padding: 15px;
  border-radius: 10px;
  margin-bottom: 50px;
  border-radius: 0px;
}

#myBtn:hover {
  background-color: #2980b9;
}

h3 {
    font-style: bold!important;
}

.table1,.table2,.table3 {
    overflow:hidden;
    border-radius: 5px;
    
    width: 100%;
    border-collapse: collapse;

}

th, td {
    
    padding: 8px;
}
.table1 th,.table2 th,.table3 th {
  background-color: #ea6153;
}
.table{
  box-shadow: 3px 3px 3px #888888;
}
.table th{
   background-color: #2980b9
}
tr:nth-child(even){background-color: #E1E1E1}
tr:nth-child(odd){background-color: #ffffff}

.wrapper{
  margin: 0 auto;
  padding: 40px;
  max-width: 800px;
}
.wrapper2{
  margin: 0 auto;
  padding: 10px;
  max-width: 1400px;

  
}

</style>
<script>

function myFunction() {
    var x = document.getElementById('recordtype');
    if (x.style.display === 'none') {
        x.style.display = 'block';
    } else {
        x.style.display = 'none';
    }
}
////////////////////
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
    if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
        document.getElementById("myBtn").style.display = "block";
    } else {
        document.getElementById("myBtn").style.display = "none";
    }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
}
</script>